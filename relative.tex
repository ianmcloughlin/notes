\documentclass[]{standalone}

\usepackage{ianstikz}

\begin{document}
\begin{tikzpicture}[scale=2]
    % Boundaries.
    \path (-1, -1) rectangle (6, 5);

    % On the train.
    \draw[gray] (0, 3) rectangle (4, 4); 
    \draw (0.5, 3.5) node {\Strichmaxerl[2]};
    \draw[-latex, thick] (2, 3) --node[right] {$ct^\prime$} (2, 4);

    % On the platform.
    \draw[gray] (0, 1) rectangle (4, 2);
    \draw (0.5, 0.5) node {\Strichmaxerl[2]};
    \draw[-latex] (4, 1.5) -- (4.5, 1.5) node[right] {$v$};
    \draw[-latex, thick] (2, 1) --node[right] {$ct$} (3, 2);
    \draw[-latex, thick] (2, 2) --node[above] {$vt$} (3, 2);
    \draw[|-|, gray, dashed] (2, 1) --node[left] {$ct^\prime$} (2, 2);
    \draw[gray] (2.1, 1.8) -- ++(0, 0.1) -- ++(0.1, 0);
    
    \path
        (1,  0.5) node[right] {$(c t)^2 = (c t^\prime)^2 + (v t)^2$}
      ++(0, -0.4) node[right] {$\Rightarrow c^2t^2 - v^2t^2 = c^2(t^\prime)^2 $}
      ++(0, -0.4) node[right] {$\Rightarrow t^2(c^2 - v^2) = c^2(t^\prime)^2 $}
      ++(0, -0.4) node[right] {$\Rightarrow (t^\prime)^2 = t^2(1 - \frac{v^2}{c^2})$}
      ++(0, -0.4) node[right] {$\Rightarrow t^\prime = t\sqrt{1 - \frac{v^2}{c^2}}$};
  \end{tikzpicture}
\end{document}